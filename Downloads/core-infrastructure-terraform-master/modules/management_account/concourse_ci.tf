resource "aws_kms_key" "concourse_ci" {}

resource "aws_kms_alias" "concourse_ci" {
  name          = "alias/concourse_ci"
  target_key_id = "${aws_kms_key.concourse_ci.key_id}"
}

module "concourse_ci" {
  source = "git::ssh://git@github.com/river-island/core-infrastructure-terraform.git//modules/concourse_ci?ref=56ff41ff1098adecb2313db29a10618a744e3c6a"

  project_name   = "${var.project_name}"
  project_domain = "io"
  environment    = "${var.environment}"

  vpc_id          = "${module.vpc.vpc_id}"
  public_subnets  = "${module.vpc.public_subnets}"
  private_subnets = "${module.vpc.private_subnets}"
  vpc_subnet      = "${var.vpc_cidr}"
  ec2_key_pair    = "${aws_key_pair.default.key_name}"

  postgres_multi_az            = "true"
  postgres_skip_final_snapshot = "false"

  kms_key_arn             = "${aws_kms_key.concourse_ci.arn}"
  encrypted_keys          = "${var.concourse_ci_encrypted_keys}"
  transit_vpc_subnet_cidr = "10.202.0.0/22"

  // allow the instance to assume the cd roles in project accounts
  additional_ecs_instance_role_policy = "${file("${path.module}/iam_policies/ecs_instance.json")}"

  // encrypted with kms
  config_postgres_encrypted_password   = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wHgjVWfc5pD01/0FIszWXwWAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQM04nF9yYqqC7tG77OAgEQgDsQzHDJCoGuFwnijEze0wUlQDZKEG/4WBuuJYNTYhng1Ha6jxqg8MNPiPpWUbRByesMEtQvWQyU6agszg=="
  config_basic_auth_encrypted_password = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wHvr5FbFau+Z5JDffOOR7SNAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMI8wPNYrEH9CJ4uIxAgEQgDsEQFXHvWFAOSQs1eOneE+RKjyZCLpeWyFkI+/HusRcMvD1g3pjMtcVi/mEN8dzT69tuRejAyh+DVvMSA=="
  config_github_auth_client_secret     = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wEATl922zU7K9LPOAT17Y+rAAAAhzCBhAYJKoZIhvcNAQcGoHcwdQIBADBwBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDMjS8lTxYCkfsB/TlgIBEIBDhCq/c7a927frXYv7O/78Ofxs5PSZXbsfyPfByQ9QZgbbumB6SEllPdUeNMDHUza/y27N1hhaCEwn3oPILHROWXw+qQ=="
  config_github_auth_client_id         = "6825b0c42230c120b7d8"
  config_github_auth_team              = "River-Island/aws-operations"
  config_external_url                  = "http://${var.project_name}-concourse.prod.transit.ri-tech.io"
  concourse_version                    = "3.6.0"
  concourse_init_version               = "0.0.9"

  concourse_ecs_min_size         = "${var.concourse_ecs_min_size}"
  concourse_ecs_max_size         = "${var.concourse_ecs_max_size}"
  concourse_ecs_desired_capacity = "${var.concourse_ecs_desired_capacity}"

  # concourse services
  concourse_atc_service_count = "${var.concourse_atc_service_count}"

  # the encrypted values are encrypted with kms.
  web_additional_env_vars = <<EOF
{
  "name": "CONCOURSE_VAULT_URL",
  "value": "${module.vault.vault_tls_endpoint}"

},
{
  "name": "ENCRYPTED_CONCOURSE_VAULT_CLIENT_TOKEN",
  "value": "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wEy6RivBOVyYli4InZme8tkAAAAgzCBgAYJKoZIhvcNAQcGoHMwcQIBADBsBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDNDkPDnwbUxKn+svJQIBEIA/zQ102sMN5TvhQxNECo8kwrKd4jOrnmGMBiIOCw0IV2c3Ks7cN71to9litVBHSXsZ/Zwl8zIKXnH6r6BV29a4"
},
{
  "name": "ENCRYPTED_CONCOURSE_VAULT_CA_CERT",
  "value": "${var.vault_encrypted_keys["vault_ca_pem"]}"}
EOF
}

resource "aws_route53_record" "concourse_ci" {
  zone_id = "${aws_route53_zone.management.zone_id}"
  name    = "concourse"
  type    = "CNAME"
  ttl     = "60"
  records = ["${module.concourse_ci.elb_dns_name}"]
}

variable "concourse_ci_encrypted_keys" {
  type        = "map"
  description = "concourse ci encrypted keys"

  default = {
    // kms encrypted authorized_worker_keys
    authorized_worker_keys = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wEk8K34EyteVpQYfpSAtJeyAAAB7jCCAeoGCSqGSIb3DQEHBqCCAdswggHXAgEAMIIB0AYJKoZIhvcNAQcBMB4GCWCGSAFlAwQBLjARBAyaFjBHNgId1fV0MDUCARCAggGhogf/sg5Rk0wBH6EFqM6X8rRf477dmNwD5oxTVxWIQCN2X8ZAtVuDcOzoR2a/c0ss3ObEpNDTMlGRpfTo3FC7yEj0Olcg31GQLlV5dzcNULKd0xaxQ0bcgrcKImpj+xJEDRGcle05mNmU56pK0mSNz19Wt5EFz2U3bDuQkmZgdCmhFeQVbh70V0GmYXbB67zH2N6dL8bAXwp8gTV4F3OHWXR2ZWZcCrJ5nhmY6qaKHdkTVyH6KRiXR6wDN/cSywPwj3w4/5PWY5/LoFwpbqyLZC3EScwa2a+J04rxvYgpgpll11FoYSZJRnB+/B1qg2I85780279+GknE0NeTTp4aUotC7hqJJGEFvECLKx6r0nasrqKoFZ/0LGEAe+7Qxlpiz//TStivAR8iTzEVE8w8abpGduf94NGpKWVI0yFY8Wu2d3vxShH9qDwgTX/djydpuzncB138yWe8BUtIUPW7Ol0DY+W2I/sBOQP4JQpVA6vDxT0n2u+Lbn76IIj40BZG7tI1RQ6qCKLrhM6JRLNGiKpNQTtm3ZzmxphruxS3lMwR"

    // kms encrypted session_signing_key
    session_signing_key = "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"

    // kms encrypted session_signing_key.pub
    session_signing_key_pub = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wFEmt3WRQtjWFrjP2yUgEKkAAAB7jCCAeoGCSqGSIb3DQEHBqCCAdswggHXAgEAMIIB0AYJKoZIhvcNAQcBMB4GCWCGSAFlAwQBLjARBAwimyzWrA0f4V8ad+gCARCAggGh2BgGsgzVRnl+joOhxE1u1IMMyYZawHK4afsRM2twNGMxKT7lWyIsqm7Jx2IwI12QCSiuRlRSH9l7e3c5mE/bDWmou3pFexXPRaIbT5jrnG8Q1emuPaJVwAvMeNLYSHS4OqWzBoETapAxVMqyTxOmnq8nSZtkc1eoZTURdoa9ncbyvWjRFMutdRJs9v3Q9luC520OTcMo7PFgOdyuBR7ZRhJTGoT63otjx2bG3ZQ11Y2ogqwq7Yc+63Z1hCUKAPo0UKqW+bUSbMLYeUnvRwTO8QVxa8ktrT02d2i0AyNfoAk25y6fJjWXJJrZv0WEtEtZ8PDPRfIIxijrsRlH36iMjaYgUEr5Pryc8lfgKtkte8DySCcWbG+Zc/sAmr+mzVNqQ/k0o8sPyaFH9xrJzggY9xZZ4ayAbq8VM/op6RaoBb3gwLj1PRQb5YpK/jc/GvMarr226qejQjsnW5YZ3+moUC57mGUXCZpYCpUVQa/kPWtQf0g5nj47zqKY1f6nJ0H5kvsHl08SvOglng8V3UhhLLw2WmYmTyXVB4H/hsGyqL0h"

    // kms encrypted tsa_host_key
    tsa_host_key = "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"

    // kms encrypted tsa_host_key.pub
    tsa_host_key_pub = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wF5+9Nr8T2D9dnqdlbJtqCzAAAB7jCCAeoGCSqGSIb3DQEHBqCCAdswggHXAgEAMIIB0AYJKoZIhvcNAQcBMB4GCWCGSAFlAwQBLjARBAzFVbxuEEUI0aEi4SUCARCAggGh0SwOPiR3PiCe8kLZNBRLkV1U0i0ap/atCXMyLOgqZHWbHJhpmCLWY8xgNqhpt9oLk2h0xMnlLfcv4EKyU6DLFev6g9YsHRhBlh0+0Uuv/hHAquOCPM0u4Gxh7aKjK7j7Cg604MUEO7s1YGMA7MHYWFOgyRWHNu+wqPNX6i4kKw8IKVvnVhIpRLwxZOgUKqj/WVTMNrqJc8epVJsp3AiMfv8Yd5ZIxdbz+8aCErZKLhqbijVLxHBhJlubKUKTvH9+S4ePrln3vo9UEk5BoSVZJyQIrBTcal9ktjZu9fNEeW4qlXKYDYsVDUzJnucVE63C1gA0wrMip/tA+9M6vh3PUMVI1CTsP0cozZcUSNDftTALKoAI/NFRuPLRa9UCgqPckqd3s4y44tjDyGFHe6L+bGX+8dCbQoREAninEu8d46DWRTAJdJVkhvXcYwl3+D+twcIjvWugBUTR7PLn0sFLMM9sdN8QC61k/FOULaRWzOJTIo//Ynu7kLDwXiOrLiSiKZvV2gy6KvIL1EHR0chRvGBjJwrdoEMeky4yt4mr41vJ"

    // kms encrypted worker_key
    worker_key = "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"

    // kms encrypted worker_key.pub
    worker_key_pub = "AQICAHhHXErhHrvjcpIGBKGaYosexCRC1DaIQI+ZxCrSyt6y2wE2ydIX6eDbFAt2mBPIU0Y7AAAB7jCCAeoGCSqGSIb3DQEHBqCCAdswggHXAgEAMIIB0AYJKoZIhvcNAQcBMB4GCWCGSAFlAwQBLjARBAylL6zNykSAqF8ENcMCARCAggGhJ0IBcboQix1S8gXN1wXMbcKQgF7lNMuJQRwgLaa42ygOqxAdJT6mv5snvJOQPEWw5cOIbrAWOsg7VaSLzhTev61khAPVKX/4DVfOos4lKp2a0ycTmx0lSY06pMX5xcx5ZMWHg8Bs7fGzVjOOZ0lQyXbY7Pb48Tupz55mJztkBncxch4ebEqNlXQmN8KTIzBZUUOqE4RnVM3Z9O3bXfAaFP/yAEY5LL5YuJ9+7a8sLljA50XKhPKyj8S1ytJAvFzNoeSVNSO3dZi26943yWxNFiWPhmVE6Vpb/fkMMACnkPyvSAoln3dhH+eoOAf3JODbwmmvUk1Z1J/OE4yzMFMTaBzL0HW5NhtHpVuWP6sERQoDhubuFSwHcU+Uj9cOwboWZlt3umEKRJXBPP8qDBOIe/baaqN8nQeSbfXHvA5XElTcbX6ekNhCIRpixFKHaPgNyTMRaahwm+S67HHvQ6dRZADQ0dJVLozhAfxBudO0RYDaX5yYA0zu4WjZpF6nLT+ZQQk250VviUzhF2Ov1yWV2dYxLD1wYOwklva8fMv7aSQx"
  }
}
